<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>Advanced GLB 3D Model Viewer - SiliconWit.COM</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">

    <!-- Three.js Library - Using importmap for ES modules -->
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.152.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.152.0/examples/jsm/"
        }
    }
    </script>

    <style>
        /* ============================================
           SiliconWit Design System - Starlight Compatible
           ============================================ */

        /* SiliconWit 4-Color Branding System */
        :root {
            /* SiliconWit Brand Colors */
            --sw-teal: #2A9D8F;
            --sw-yellow: #E9C46A;
            --sw-slate: #598392;
            --sw-gray: #A8A29E;

            /* Light Mode (Default) */
            --sl-color-white: #ffffff;
            --sl-color-black: #1a1a1a;
            --sl-color-text: #1F2937;
            --sl-color-text-invert: #ffffff;
            --sl-color-bg: #ffffff;
            --sl-color-bg-nav: #f8fafc;
            --sl-color-bg-sidebar: #f1f5f9;
            --sl-color-bg-inline-code: rgba(42, 157, 143, 0.1);
            --sl-color-hairline: #e2e8f0;
            --sl-color-hairline-light: #f1f5f9;
            --sl-color-accent: #2A9D8F;
            --sl-color-accent-low: #E9C46A;
            --sl-color-accent-high: #598392;
            --sl-color-gray-1: #f9fafb;
            --sl-color-gray-2: #64748b;
            --sl-color-gray-3: #A8A29E;
            --sl-color-gray-5: #d1d5db;
            --sl-color-gray-6: #374151;

            /* Fonts */
            --sl-font: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        /* Dark Mode */
        [data-theme='dark'] {
            --sl-color-white: #F8FAFC;
            --sl-color-black: #0f172a;
            --sl-color-text: #F8FAFC;
            --sl-color-text-invert: #1F2937;
            --sl-color-bg: #0f172a;
            --sl-color-bg-nav: #1e293b;
            --sl-color-bg-sidebar: #1e293b;
            --sl-color-bg-inline-code: rgba(42, 157, 143, 0.15);
            --sl-color-hairline: #334155;
            --sl-color-hairline-light: #475569;
            --sl-color-gray-1: #1e293b;
            --sl-color-gray-2: #94a3b8;
            --sl-color-gray-5: #64748b;
            --sl-color-gray-6: #f1f5f9;
        }

        /* ============================================
           Base Styles
           ============================================ */

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            overflow-x: hidden;
            max-width: 100vw;
            height: 100vh;
            height: 100dvh; /* Dynamic viewport height for mobile */
        }

        html {
            font-family: var(--sl-font);
            font-size: 16px;
            line-height: 1.6;
            color-scheme: light dark;
        }

        body {
            font-family: var(--sl-font);
            color: var(--sl-color-text);
            background-color: var(--sl-color-bg);
            transition: background-color 0.3s ease, color 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        /* ============================================
           Navigation Header
           ============================================ */

        .sl-nav-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            background-color: var(--sl-color-bg-nav);
            border-bottom: 1px solid var(--sl-color-hairline);
            height: 4rem;
            display: flex;
            align-items: center;
            padding: 0 1.5rem;
            justify-content: space-between;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .sl-nav-header .sl-site-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            color: var(--sw-teal);
            font-weight: 600;
            font-size: 1.25rem;
            transition: color 0.2s ease;
        }

        .sl-nav-header .sl-site-title:hover {
            color: var(--sw-slate);
        }

        .sl-nav-header img {
            width: 28px;
            height: 28px;
            border-radius: 4px;
        }

        .sl-nav-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Desktop Navigation Menu */
        .desktop-nav-menu {
            display: none;
            align-items: center;
            gap: 2rem;
            margin-right: 1rem;
        }

        .desktop-nav-link {
            text-decoration: none;
            color: var(--sl-color-text);
            font-weight: 500;
            font-size: 0.875rem;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s ease;
        }

        .desktop-nav-link:hover {
            background-color: var(--sl-color-gray-1);
            color: var(--sw-teal);
        }

        @media (min-width: 1025px) {
            .desktop-nav-menu {
                display: flex;
            }
        }

        /* Desktop Social Links */
        .desktop-social-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-right: 0.5rem;
        }

        .desktop-social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            border: 1px solid var(--sl-color-hairline);
            border-radius: 0.375rem;
            color: var(--sl-color-gray-2);
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .desktop-social-link:hover {
            background-color: var(--sw-teal);
            border-color: var(--sw-teal);
            color: white;
        }

        .desktop-social-link svg {
            width: 1rem;
            height: 1rem;
        }

        /* Mobile Menu Toggle */
        .mobile-starlight-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--sl-color-text);
            cursor: pointer;
            padding: 0.625rem;
            border-radius: 50%;
            transition: all 0.2s ease;
            width: 2.5rem;
            height: 2.5rem;
            position: relative;
        }

        .mobile-starlight-menu-btn:hover {
            color: var(--sl-color-text);
            transform: translateY(-1px);
        }

        [data-theme='light'] .mobile-starlight-menu-btn {
            background-color: #ffffff;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1), 0 4px 16px rgba(0, 0, 0, 0.05);
        }

        [data-theme='light'] .mobile-starlight-menu-btn:hover {
            background-color: #f8f9fa;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15), 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        [data-theme='dark'] .mobile-starlight-menu-btn {
            background-color: #374151;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4), 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        [data-theme='dark'] .mobile-starlight-menu-btn:hover {
            background-color: #4b5563;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5), 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .mobile-starlight-menu-btn svg {
            width: 1.25rem;
            height: 1.25rem;
        }

        /* Mobile Navigation */
        @media (max-width: 1024px) {
            .mobile-starlight-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .desktop-social-links {
                display: none;
            }

            .sl-nav-controls {
                gap: 0.25rem;
            }
        }

        /* Mobile Menu Overlay */
        .mobile-menu-overlay {
            display: none;
            position: fixed;
            top: 4rem;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--sl-color-bg);
            border-top: 1px solid var(--sl-color-hairline);
            z-index: 150;
            padding: 2rem 1.5rem;
            overflow-y: auto;
        }

        .mobile-menu-overlay.active {
            display: block;
        }

        .mobile-nav-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .mobile-nav-link {
            padding: 0.75rem;
            text-decoration: none;
            color: var(--sl-color-text);
            border-radius: 0.5rem;
            transition: background-color 0.2s ease;
            text-align: center;
            font-weight: 500;
        }

        .mobile-nav-link:hover {
            background-color: var(--sl-color-gray-1);
        }

        .mobile-nav-link.current {
            background-color: var(--sl-color-bg-inline-code);
            color: var(--sw-teal);
        }

        .mobile-social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            padding: 1rem 0;
            border-top: 1px solid var(--sl-color-hairline);
        }

        .mobile-social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 0.5rem;
            color: var(--sl-color-gray-2);
            transition: all 0.2s ease;
            background-color: var(--sl-color-gray-1);
        }

        .mobile-social-link:hover {
            background-color: var(--sw-teal);
            color: white;
        }

        /* Theme Toggle */
        .sl-theme-select {
            background: none;
            border: none;
            color: var(--sl-color-gray-2);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.375rem;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2.5rem;
            height: 2.5rem;
        }

        .sl-theme-select:hover {
            background-color: var(--sl-color-gray-1);
            color: var(--sw-teal);
        }

        .sl-theme-select svg {
            width: 1.25rem;
            height: 1.25rem;
        }

        /* ============================================
           Main Content Area
           ============================================ */

        .main-content {
            margin-top: 4rem;
            flex: 1;
            display: flex;
            overflow: hidden;
            position: relative;
        }

        /* ============================================
           Sidebar Control Panel
           ============================================ */

        .sidebar {
            width: 320px;
            background-color: var(--sl-color-bg-sidebar);
            border-right: 1px solid var(--sl-color-hairline);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 50;
        }

        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--sl-color-hairline);
            background-color: var(--sl-color-bg-nav);
        }

        .sidebar-header h2 {
            font-size: 1.125rem;
            color: var(--sl-color-text);
            margin-bottom: 0.5rem;
        }

        .sidebar-header p {
            font-size: 0.875rem;
            color: var(--sl-color-gray-2);
        }

        .sidebar-content {
            padding: 1rem;
            flex: 1;
        }

        .control-section {
            margin-bottom: 1.5rem;
        }

        .control-section h3 {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--sw-teal);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .control-group {
            margin-bottom: 1rem;
        }

        .control-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--sl-color-text);
            margin-bottom: 0.5rem;
        }

        .control-input,
        .control-select {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--sl-color-hairline);
            border-radius: 0.375rem;
            background-color: var(--sl-color-bg);
            color: var(--sl-color-text);
            font-size: 0.875rem;
            transition: all 0.2s ease;
        }

        .control-input:focus,
        .control-select:focus {
            outline: none;
            border-color: var(--sw-teal);
            box-shadow: 0 0 0 3px rgba(42, 157, 143, 0.1);
        }

        .control-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--sl-color-hairline);
            outline: none;
            -webkit-appearance: none;
        }

        .control-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--sw-teal);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .control-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .control-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--sw-teal);
            cursor: pointer;
            border: none;
            transition: all 0.2s ease;
        }

        .slider-value {
            display: inline-block;
            font-size: 0.875rem;
            color: var(--sl-color-gray-2);
            margin-left: 0.5rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            white-space: nowrap;
        }

        .btn-primary {
            background-color: var(--sw-teal);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--sw-slate);
        }

        .btn-secondary {
            background-color: var(--sl-color-gray-1);
            color: var(--sl-color-text);
            border: 1px solid var(--sl-color-hairline);
        }

        .btn-secondary:hover {
            background-color: var(--sl-color-hairline-light);
        }

        .btn-block {
            width: 100%;
        }

        .btn-sm {
            padding: 0.375rem 0.75rem;
            font-size: 0.8125rem;
        }

        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        .hidden-file-input {
            display: none;
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }

        .upload-area {
            border: 2px dashed var(--sl-color-hairline);
            border-radius: 0.5rem;
            padding: 2rem 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            background-color: var(--sl-color-bg);
        }

        .upload-area:hover {
            border-color: var(--sw-teal);
            background-color: var(--sl-color-bg-inline-code);
        }

        .upload-area.drag-over {
            border-color: var(--sw-teal);
            background-color: var(--sl-color-bg-inline-code);
        }

        .upload-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 0.75rem;
            color: var(--sw-teal);
        }

        .upload-text {
            font-size: 0.875rem;
            color: var(--sl-color-gray-2);
        }

        .upload-text strong {
            color: var(--sw-teal);
        }

        /* Model Presets */
        .model-preset {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border: 1px solid var(--sl-color-hairline);
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.5rem;
            background-color: var(--sl-color-bg);
        }

        .model-preset:hover {
            border-color: var(--sw-teal);
            background-color: var(--sl-color-bg-inline-code);
        }

        .model-preset-icon {
            width: 40px;
            height: 40px;
            background-color: var(--sl-color-gray-1);
            border-radius: 0.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--sw-teal);
        }

        .model-preset-info {
            flex: 1;
        }

        .model-preset-name {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--sl-color-text);
        }

        .model-preset-size {
            font-size: 0.75rem;
            color: var(--sl-color-gray-2);
        }

        /* ============================================
           Viewer Area
           ============================================ */

        .viewer-container {
            flex: 1;
            position: relative;
            background-color: var(--sl-color-bg);
            overflow: hidden;
        }

        #viewer-canvas {
            width: 100%;
            height: 100%;
            display: block;
            touch-action: none;
        }

        /* Viewer Toolbar */
        .viewer-toolbar {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            z-index: 10;
        }

        .toolbar-btn {
            width: 44px;
            height: 44px;
            background-color: var(--sl-color-bg-nav);
            border: 1px solid var(--sl-color-hairline);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--sl-color-text);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .toolbar-btn:hover {
            background-color: var(--sw-teal);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .toolbar-btn.active {
            background-color: var(--sw-teal);
            color: white;
        }

        .toolbar-btn svg {
            width: 20px;
            height: 20px;
        }

        /* Mobile Sidebar Toggle */
        .sidebar-toggle {
            position: absolute;
            top: 1rem;
            left: 1rem;
            z-index: 60;
            width: 44px;
            height: 44px;
            background-color: var(--sl-color-bg-nav);
            border: 1px solid var(--sl-color-hairline);
            border-radius: 0.5rem;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .sidebar-toggle:hover {
            background-color: var(--sw-teal);
            color: white;
        }

        .sidebar-toggle svg {
            width: 20px;
            height: 20px;
        }

        /* Info Panel */
        .info-panel {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            background-color: rgba(30, 41, 59, 0.95);
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            max-width: 300px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .info-panel.visible {
            opacity: 1;
        }

        .info-panel h4 {
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
            color: var(--sw-yellow);
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.25rem;
            font-size: 0.8125rem;
        }

        .info-label {
            color: #94a3b8;
        }

        .info-value {
            font-weight: 500;
        }

        /* Loading Indicator */
        .loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 20;
        }

        .spinner {
            width: 48px;
            height: 48px;
            border: 4px solid var(--sl-color-hairline);
            border-top-color: var(--sw-teal);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 0.875rem;
            color: var(--sl-color-gray-2);
        }

        /* Help Overlay */
        .help-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 200;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .help-overlay.visible {
            display: flex;
        }

        .help-content {
            background-color: var(--sl-color-bg);
            border-radius: 0.75rem;
            padding: 2rem;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .help-content h3 {
            color: var(--sw-teal);
            margin-bottom: 1rem;
            font-size: 1.25rem;
        }

        .help-content h4 {
            color: var(--sl-color-text);
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            font-size: 1rem;
        }

        .help-content p {
            color: var(--sl-color-gray-2);
            margin-bottom: 0.75rem;
            line-height: 1.6;
        }

        .help-content ul {
            list-style: none;
            padding: 0;
        }

        .help-content li {
            padding: 0.5rem;
            margin-bottom: 0.25rem;
            background-color: var(--sl-color-gray-1);
            border-radius: 0.25rem;
            font-size: 0.875rem;
        }

        .help-content kbd {
            display: inline-block;
            padding: 0.125rem 0.375rem;
            background-color: var(--sl-color-hairline);
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 0.75rem;
            border: 1px solid var(--sl-color-hairline-light);
        }

        .close-help {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--sl-color-gray-2);
            cursor: pointer;
            font-size: 1.5rem;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.25rem;
        }

        .close-help:hover {
            background-color: var(--sl-color-gray-1);
            color: var(--sw-teal);
        }

        /* ============================================
           Responsive Design
           ============================================ */

        /* Tablet */
        @media (max-width: 1024px) {
            .sl-nav-header {
                padding: 0 1rem;
            }

            .sidebar {
                width: 280px;
            }
        }

        /* Mobile */
        @media (max-width: 768px) {
            .sl-nav-header {
                height: 3.5rem;
                padding: 0 0.75rem;
            }

            .sl-nav-header .sl-site-title {
                font-size: 1.125rem;
            }

            .sl-nav-header img {
                width: 24px;
                height: 24px;
            }

            .main-content {
                margin-top: 3.5rem;
            }

            .sidebar {
                position: fixed;
                left: 0;
                top: 3.5rem;
                bottom: 0;
                width: 85%;
                max-width: 320px;
                transform: translateX(-100%);
                box-shadow: 4px 0 16px rgba(0, 0, 0, 0.1);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .sidebar-toggle {
                display: flex;
            }

            .viewer-toolbar {
                top: 0.75rem;
                right: 0.75rem;
                gap: 0.375rem;
            }

            .toolbar-btn {
                width: 40px;
                height: 40px;
            }

            .info-panel {
                left: 0.75rem;
                bottom: 0.75rem;
                max-width: calc(100% - 1.5rem);
                font-size: 0.8125rem;
            }

            .help-content {
                padding: 1.5rem;
                margin: 1rem;
            }
        }

        /* Small Mobile */
        @media (max-width: 480px) {
            .sl-nav-header {
                height: 3rem;
                padding: 0 0.5rem;
            }

            .sl-nav-header .sl-site-title {
                font-size: 1rem;
            }

            .sl-nav-header img {
                width: 22px;
                height: 22px;
            }

            .main-content {
                margin-top: 3rem;
            }

            .sidebar {
                width: 90%;
                top: 3rem;
            }

            .sidebar-content {
                padding: 0.75rem;
            }

            .control-section {
                margin-bottom: 1rem;
            }

            .viewer-toolbar {
                top: 0.5rem;
                right: 0.5rem;
            }

            .toolbar-btn {
                width: 36px;
                height: 36px;
            }

            .sidebar-toggle {
                top: 0.5rem;
                left: 0.5rem;
                width: 36px;
                height: 36px;
            }
        }

        /* Safe Area Support for Notched Devices */
        @supports (padding: max(0px)) {
            .sl-nav-header {
                padding-left: max(1.5rem, env(safe-area-inset-left));
                padding-right: max(1.5rem, env(safe-area-inset-right));
            }

            .sidebar-toggle {
                left: max(1rem, env(safe-area-inset-left));
            }

            .viewer-toolbar {
                right: max(1rem, env(safe-area-inset-right));
            }

            .info-panel {
                left: max(1rem, env(safe-area-inset-left));
                bottom: max(1rem, env(safe-area-inset-bottom));
            }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Print Styles */
        @media print {
            .sl-nav-header,
            .sidebar,
            .viewer-toolbar,
            .sidebar-toggle {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <header class="sl-nav-header">
        <a href="/" class="sl-site-title">
            <img src="/favicon.svg" alt="SiliconWit Logo">
            <span>SiliconWit.COM</span>
        </a>

        <nav class="desktop-nav-menu">
            <a href="/research/" class="desktop-nav-link">Research</a>
            <a href="/education/" class="desktop-nav-link">Education</a>
            <a href="/product-development/" class="desktop-nav-link">Product Development</a>
            <a href="/blog/" class="desktop-nav-link">Blog</a>
            <a href="/contributors/" class="desktop-nav-link">Contributors</a>
        </nav>

        <div class="sl-nav-controls">
            <!-- Desktop Social Links -->
            <div class="desktop-social-links">
                <a href="https://github.com/siliconwit" target="_blank" rel="noopener" class="desktop-social-link" title="GitHub">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
                <a href="https://discord.gg/Qv2qguMJwK" target="_blank" rel="noopener" class="desktop-social-link" title="Discord">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.211.375-.445.865-.608 1.249a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.249.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                    </svg>
                </a>
                <a href="https://youtube.com/@siliconwit" target="_blank" rel="noopener" class="desktop-social-link" title="YouTube">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                    </svg>
                </a>
            </div>

            <button class="sl-theme-select" id="theme-toggle" aria-label="Toggle theme">
                <svg id="theme-icon-light" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
                <svg id="theme-icon-dark" style="display: none;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                </svg>
            </button>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-starlight-menu-btn" id="mobile-menu-toggle" aria-label="Menu">
                <svg class="hamburger-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="6" x2="21" y2="6"/>
                    <line x1="3" y1="12" x2="21" y2="12"/>
                    <line x1="3" y1="18" x2="21" y2="18"/>
                </svg>
                <svg class="close-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobile-menu-overlay">
        <nav class="mobile-nav-links">
            <a href="/research/" class="mobile-nav-link">Research</a>
            <a href="/education/" class="mobile-nav-link">Education</a>
            <a href="/product-development/" class="mobile-nav-link current">Product Development</a>
            <a href="/blog/" class="mobile-nav-link">Blog</a>
            <a href="/contributors/" class="mobile-nav-link">Contributors</a>
        </nav>

        <div class="mobile-social-links">
            <a href="https://github.com/siliconwit" target="_blank" rel="noopener" class="mobile-social-link" title="GitHub">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
            </a>
            <a href="https://discord.gg/Qv2qguMJwK" target="_blank" rel="noopener" class="mobile-social-link" title="Discord">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.211.375-.445.865-.608 1.249a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.249.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                </svg>
            </a>
            <a href="https://youtube.com/@siliconwit" target="_blank" rel="noopener" class="mobile-social-link" title="YouTube">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                </svg>
            </a>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Sidebar Control Panel -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>GLB Model Viewer</h2>
                <p>Advanced 3D model visualization tool</p>
            </div>

            <div class="sidebar-content">
                <!-- Model Loading Section -->
                <div class="control-section">
                    <h3>Load Model</h3>

                    <div class="control-group">
                        <div class="upload-area" id="upload-area">
                            <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                            <div class="upload-text">
                                <strong>Click to upload</strong> or drag and drop<br>
                                GLB/GLTF files supported
                            </div>
                        </div>
                        <input type="file" id="file-input" accept=".glb,.gltf" class="hidden-file-input">
                    </div>

                    <div class="control-group">
                        <label class="control-label">Or load from URL</label>
                        <input type="text" class="control-input" id="url-input" placeholder="https://example.com/model.glb">
                        <button class="btn btn-primary btn-block btn-sm" id="load-url-btn" style="margin-top: 0.5rem;">Load from URL</button>
                    </div>
                </div>

                <!-- Featured Models -->
                <div class="control-section">
                    <h3>‚≠ê Featured Models</h3>

                    <div class="model-preset" data-url="/models/siliconwit/spherical-cow.glb">
                        <div class="model-preset-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                            </svg>
                        </div>
                        <div class="model-preset-info">
                            <div class="model-preset-name">Spherical Cow (SiliconWit)</div>
                            <div class="model-preset-size">Local Model</div>
                        </div>
                    </div>

                    <div class="model-preset" data-url="/models/balora/moon.glb">
                        <div class="model-preset-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                            </svg>
                        </div>
                        <div class="model-preset-info">
                            <div class="model-preset-name">Moon (Balora)</div>
                            <div class="model-preset-size">Local Model</div>
                        </div>
                    </div>

                    <div class="model-preset" data-url="/models/balora/tt3.glb">
                        <div class="model-preset-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                            </svg>
                        </div>
                        <div class="model-preset-info">
                            <div class="model-preset-name">TT3 (Balora)</div>
                            <div class="model-preset-size">Local Model</div>
                        </div>
                    </div>
                </div>

                <!-- Online Sample Models -->
                <div class="control-section">
                    <h3>üåê Online Samples</h3>

                    <div class="model-preset" data-url="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/DamagedHelmet/glTF-Binary/DamagedHelmet.glb">
                        <div class="model-preset-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                            </svg>
                        </div>
                        <div class="model-preset-info">
                            <div class="model-preset-name">Damaged Helmet</div>
                            <div class="model-preset-size">PBR Materials</div>
                        </div>
                    </div>

                    <div class="model-preset" data-url="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Avocado/glTF-Binary/Avocado.glb">
                        <div class="model-preset-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                            </svg>
                        </div>
                        <div class="model-preset-info">
                            <div class="model-preset-name">Avocado</div>
                            <div class="model-preset-size">Texture Mapped</div>
                        </div>
                    </div>

                    <div class="model-preset" data-url="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Duck/glTF-Binary/Duck.glb">
                        <div class="model-preset-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                            </svg>
                        </div>
                        <div class="model-preset-info">
                            <div class="model-preset-name">Duck</div>
                            <div class="model-preset-size">Simple Model</div>
                        </div>
                    </div>
                </div>

                <!-- Camera Controls -->
                <div class="control-section">
                    <h3>Camera</h3>

                    <div class="control-group">
                        <button class="btn btn-secondary btn-block btn-sm" id="reset-camera-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="16" height="16">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                            </svg>
                            Reset Camera
                        </button>
                    </div>

                    <div class="control-group">
                        <button class="btn btn-secondary btn-block btn-sm" id="fit-camera-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="16" height="16">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" />
                            </svg>
                            Fit to View
                        </button>
                    </div>

                    <div class="control-group">
                        <label class="control-label">
                            Field of View
                            <span class="slider-value" id="fov-value">50¬∞</span>
                        </label>
                        <input type="range" class="control-slider" id="fov-slider" min="20" max="120" value="50">
                    </div>
                </div>

                <!-- Lighting Controls -->
                <div class="control-section">
                    <h3>Lighting</h3>

                    <div class="control-group">
                        <label class="control-label">
                            Ambient Light
                            <span class="slider-value" id="ambient-value">0.5</span>
                        </label>
                        <input type="range" class="control-slider" id="ambient-slider" min="0" max="2" step="0.1" value="0.5">
                    </div>

                    <div class="control-group">
                        <label class="control-label">
                            Directional Light
                            <span class="slider-value" id="directional-value">1.0</span>
                        </label>
                        <input type="range" class="control-slider" id="directional-slider" min="0" max="3" step="0.1" value="1.0">
                    </div>
                </div>

                <!-- Display Options -->
                <div class="control-section">
                    <h3>Display</h3>

                    <div class="control-group">
                        <label class="control-label">Background</label>
                        <select class="control-select" id="background-select">
                            <option value="gradient">Gradient</option>
                            <option value="solid">Solid Color</option>
                            <option value="transparent">Transparent</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Grid</label>
                        <select class="control-select" id="grid-select">
                            <option value="on">Show Grid</option>
                            <option value="off">Hide Grid</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Wireframe</label>
                        <select class="control-select" id="wireframe-select">
                            <option value="off">Off</option>
                            <option value="on">On</option>
                        </select>
                    </div>
                </div>

                <!-- Export Options -->
                <div class="control-section">
                    <h3>Export</h3>

                    <div class="control-group">
                        <button class="btn btn-secondary btn-block btn-sm" id="screenshot-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="16" height="16">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            Take Screenshot
                        </button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- 3D Viewer Container -->
        <div class="viewer-container">
            <!-- Sidebar Toggle (Mobile) -->
            <button class="sidebar-toggle" id="sidebar-toggle" title="Toggle sidebar">
                <svg class="chevron-right" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
                <svg class="chevron-left" style="display: none;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>

            <!-- Viewer Toolbar -->
            <div class="viewer-toolbar">
                <button class="toolbar-btn" id="info-btn" title="Model Info">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </button>

                <button class="toolbar-btn" id="help-btn" title="Help">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </button>
            </div>

            <!-- 3D Canvas -->
            <canvas id="viewer-canvas"></canvas>

            <!-- Loading Indicator -->
            <div class="loading-indicator" id="loading-indicator" style="display: none;">
                <div class="spinner"></div>
                <div class="loading-text">Loading model...</div>
            </div>

            <!-- Info Panel -->
            <div class="info-panel" id="info-panel">
                <h4>Model Information</h4>
                <div class="info-item">
                    <span class="info-label">Vertices:</span>
                    <span class="info-value" id="info-vertices">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Faces:</span>
                    <span class="info-value" id="info-faces">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Materials:</span>
                    <span class="info-value" id="info-materials">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Textures:</span>
                    <span class="info-value" id="info-textures">-</span>
                </div>
            </div>
        </div>
    </main>

    <!-- Help Overlay -->
    <div class="help-overlay" id="help-overlay">
        <div class="help-content" style="position: relative;">
            <button class="close-help" id="close-help">&times;</button>

            <h3>GLB Model Viewer Help</h3>

            <h4>Loading Models</h4>
            <p>You can load 3D models in several ways:</p>
            <ul>
                <li>Drag and drop a GLB/GLTF file onto the upload area</li>
                <li>Click the upload area to browse for a file</li>
                <li>Enter a URL to load a model from the web</li>
                <li>Click on any sample model to load it instantly</li>
            </ul>

            <h4>Navigation Controls</h4>
            <ul>
                <li><strong>Rotate:</strong> Left click + drag (or single finger drag on mobile)</li>
                <li><strong>Pan:</strong> Right click + drag (or two finger drag on mobile)</li>
                <li><strong>Zoom:</strong> Mouse wheel (or pinch on mobile)</li>
            </ul>

            <h4>Camera Controls</h4>
            <ul>
                <li><strong>Reset Camera:</strong> Return to default view</li>
                <li><strong>Fit to View:</strong> Automatically frame the entire model</li>
                <li><strong>Field of View:</strong> Adjust camera perspective (20¬∞ - 120¬∞)</li>
            </ul>

            <h4>Lighting</h4>
            <ul>
                <li><strong>Ambient Light:</strong> Overall scene illumination</li>
                <li><strong>Directional Light:</strong> Main light source with shadows</li>
            </ul>

            <h4>Display Options</h4>
            <ul>
                <li><strong>Background:</strong> Choose between gradient, solid, or transparent</li>
                <li><strong>Grid:</strong> Show/hide the ground grid</li>
                <li><strong>Wireframe:</strong> View the model's mesh structure</li>
            </ul>

            <h4>Keyboard Shortcuts</h4>
            <ul>
                <li><kbd>R</kbd> - Reset camera</li>
                <li><kbd>F</kbd> - Fit to view</li>
                <li><kbd>G</kbd> - Toggle grid</li>
                <li><kbd>W</kbd> - Toggle wireframe</li>
                <li><kbd>I</kbd> - Toggle info panel</li>
                <li><kbd>H</kbd> - Show/hide help</li>
            </ul>

            <h4>Tips</h4>
            <p>For best performance on mobile devices, try to use optimized GLB models under 10MB. The viewer supports PBR materials, textures, and animations.</p>
        </div>
    </div>

    <!-- Main JavaScript -->
    <script type="module">
        // ============================================
        // Import Three.js modules
        // ============================================

        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

        // ============================================
        // Theme Management
        // ============================================

        const themeToggle = document.getElementById('theme-toggle');
        const themeIconLight = document.getElementById('theme-icon-light');
        const themeIconDark = document.getElementById('theme-icon-dark');

        // Load saved theme or use system preference
        const savedTheme = localStorage.getItem('theme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const initialTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');

        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);

            if (theme === 'dark') {
                themeIconLight.style.display = 'none';
                themeIconDark.style.display = 'block';
            } else {
                themeIconLight.style.display = 'block';
                themeIconDark.style.display = 'none';
            }
        }

        setTheme(initialTheme);

        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
        });

        // ============================================
        // Mobile Menu Toggle
        // ============================================

        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const hamburgerIcon = mobileMenuToggle.querySelector('.hamburger-icon');
        const closeIcon = mobileMenuToggle.querySelector('.close-icon');

        mobileMenuToggle.addEventListener('click', () => {
            mobileMenuOverlay.classList.toggle('active');

            if (mobileMenuOverlay.classList.contains('active')) {
                hamburgerIcon.style.display = 'none';
                closeIcon.style.display = 'block';
            } else {
                hamburgerIcon.style.display = 'block';
                closeIcon.style.display = 'none';
            }
        });

        // Close mobile menu when clicking a link
        document.querySelectorAll('.mobile-nav-link').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenuOverlay.classList.remove('active');
                hamburgerIcon.style.display = 'block';
                closeIcon.style.display = 'none';
            });
        });

        // ============================================
        // Sidebar Toggle (Mobile)
        // ============================================

        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const chevronRight = sidebarToggle.querySelector('.chevron-right');
        const chevronLeft = sidebarToggle.querySelector('.chevron-left');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('open');

            // Toggle chevron icons
            if (sidebar.classList.contains('open')) {
                chevronRight.style.display = 'none';
                chevronLeft.style.display = 'block';
            } else {
                chevronRight.style.display = 'block';
                chevronLeft.style.display = 'none';
            }
        });

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                if (!sidebar.contains(e.target) && !sidebarToggle.contains(e.target)) {
                    sidebar.classList.remove('open');
                    chevronRight.style.display = 'block';
                    chevronLeft.style.display = 'none';
                }
            }
        });

        // ============================================
        // Three.js Scene Setup
        // ============================================

        let scene, camera, renderer, controls;
        let currentModel = null;
        let ambientLight, directionalLight;
        let gridHelper;

        const canvas = document.getElementById('viewer-canvas');
        const loadingIndicator = document.getElementById('loading-indicator');

        function initViewer() {
            // Scene
            scene = new THREE.Scene();

            // Camera
            const aspect = canvas.clientWidth / canvas.clientHeight;
            camera = new THREE.PerspectiveCamera(50, aspect, 0.1, 1000);
            camera.position.set(5, 5, 5);

            // Renderer
            renderer = new THREE.WebGLRenderer({
                canvas: canvas,
                antialias: true,
                alpha: true
            });
            renderer.setSize(canvas.clientWidth, canvas.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.outputEncoding = THREE.sRGBEncoding;
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1;

            // Controls
            controls = new OrbitControls(camera, canvas);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.screenSpacePanning = false;
            controls.minDistance = 1;
            controls.maxDistance = 100;
            controls.maxPolarAngle = Math.PI / 2;

            // Lights
            ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);

            directionalLight = new THREE.DirectionalLight(0xffffff, 1.0);
            directionalLight.position.set(5, 10, 7.5);
            directionalLight.castShadow = true;
            scene.add(directionalLight);

            // Grid
            gridHelper = new THREE.GridHelper(10, 10, 0x888888, 0x444444);
            scene.add(gridHelper);

            // Background gradient
            updateBackground();

            // Handle window resize
            window.addEventListener('resize', onWindowResize);

            // Start animation loop
            animate();
        }

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = canvas.clientWidth / canvas.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(canvas.clientWidth, canvas.clientHeight);
        }

        function updateBackground() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const isDark = currentTheme === 'dark';

            const backgroundSelect = document.getElementById('background-select').value;

            if (backgroundSelect === 'gradient') {
                const topColor = isDark ? 0x1e293b : 0xf8fafc;
                const bottomColor = isDark ? 0x0f172a : 0xe2e8f0;

                const gradientCanvas = document.createElement('canvas');
                gradientCanvas.width = 2;
                gradientCanvas.height = 256;
                const ctx = gradientCanvas.getContext('2d');
                const gradient = ctx.createLinearGradient(0, 0, 0, 256);
                gradient.addColorStop(0, '#' + topColor.toString(16).padStart(6, '0'));
                gradient.addColorStop(1, '#' + bottomColor.toString(16).padStart(6, '0'));
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, 2, 256);

                const texture = new THREE.CanvasTexture(gradientCanvas);
                scene.background = texture;
            } else if (backgroundSelect === 'solid') {
                scene.background = new THREE.Color(isDark ? 0x0f172a : 0xffffff);
            } else {
                scene.background = null;
            }
        }

        // ============================================
        // Model Loading
        // ============================================

        const loader = new GLTFLoader();

        function loadModel(url) {
            loadingIndicator.style.display = 'block';

            // Remove existing model
            if (currentModel) {
                scene.remove(currentModel);
                currentModel = null;
            }

            loader.load(
                url,
                (gltf) => {
                    currentModel = gltf.scene;
                    scene.add(currentModel);

                    // Center and scale model
                    const box = new THREE.Box3().setFromObject(currentModel);
                    const center = box.getCenter(new THREE.Vector3());
                    const size = box.getSize(new THREE.Vector3());

                    const maxDim = Math.max(size.x, size.y, size.z);
                    const scale = 5 / maxDim;
                    currentModel.scale.multiplyScalar(scale);

                    box.setFromObject(currentModel);
                    box.getCenter(center);
                    currentModel.position.sub(center);
                    currentModel.position.y = size.y * scale / 2;

                    // Update info panel
                    updateModelInfo(gltf);

                    // Fit camera
                    fitCameraToModel();

                    loadingIndicator.style.display = 'none';
                },
                (progress) => {
                    const percent = (progress.loaded / progress.total * 100).toFixed(0);
                    console.log(`Loading: ${percent}%`);
                },
                (error) => {
                    console.error('Error loading model:', error);
                    loadingIndicator.style.display = 'none';
                    alert('Failed to load model. Please check the URL or file format.');
                }
            );
        }

        function updateModelInfo(gltf) {
            let vertices = 0;
            let faces = 0;
            let materials = new Set();
            let textures = new Set();

            gltf.scene.traverse((node) => {
                if (node.isMesh) {
                    vertices += node.geometry.attributes.position.count;

                    if (node.geometry.index) {
                        faces += node.geometry.index.count / 3;
                    } else {
                        faces += node.geometry.attributes.position.count / 3;
                    }

                    if (node.material) {
                        materials.add(node.material.uuid);

                        if (node.material.map) textures.add(node.material.map.uuid);
                        if (node.material.normalMap) textures.add(node.material.normalMap.uuid);
                        if (node.material.roughnessMap) textures.add(node.material.roughnessMap.uuid);
                        if (node.material.metalnessMap) textures.add(node.material.metalnessMap.uuid);
                    }
                }
            });

            document.getElementById('info-vertices').textContent = vertices.toLocaleString();
            document.getElementById('info-faces').textContent = Math.floor(faces).toLocaleString();
            document.getElementById('info-materials').textContent = materials.size;
            document.getElementById('info-textures').textContent = textures.size;
        }

        // ============================================
        // Camera Controls
        // ============================================

        function resetCamera() {
            camera.position.set(5, 5, 5);
            camera.lookAt(0, 0, 0);
            controls.target.set(0, 0, 0);
            controls.update();
        }

        function fitCameraToModel() {
            if (!currentModel) return;

            const box = new THREE.Box3().setFromObject(currentModel);
            const size = box.getSize(new THREE.Vector3());
            const center = box.getCenter(new THREE.Vector3());

            const maxDim = Math.max(size.x, size.y, size.z);
            const fov = camera.fov * (Math.PI / 180);
            let cameraZ = Math.abs(maxDim / 2 / Math.tan(fov / 2));
            cameraZ *= 1.5; // Add some padding

            camera.position.set(center.x + cameraZ, center.y + cameraZ, center.z + cameraZ);
            camera.lookAt(center);
            controls.target.copy(center);
            controls.update();
        }

        // ============================================
        // File Upload
        // ============================================

        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');

        uploadArea.addEventListener('click', () => {
            fileInput.click();
        });

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                loadModel(url);
            }
        });

        // Drag and drop
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('drag-over');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('drag-over');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');

            const file = e.dataTransfer.files[0];
            if (file && (file.name.endsWith('.glb') || file.name.endsWith('.gltf'))) {
                const url = URL.createObjectURL(file);
                loadModel(url);
            }
        });

        // ============================================
        // URL Loading
        // ============================================

        const urlInput = document.getElementById('url-input');
        const loadUrlBtn = document.getElementById('load-url-btn');

        loadUrlBtn.addEventListener('click', () => {
            const url = urlInput.value.trim();
            if (url) {
                loadModel(url);
            }
        });

        urlInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                loadUrlBtn.click();
            }
        });

        // ============================================
        // Sample Models
        // ============================================

        document.querySelectorAll('.model-preset').forEach(preset => {
            preset.addEventListener('click', () => {
                const url = preset.getAttribute('data-url');
                loadModel(url);

                // Close sidebar on mobile
                if (window.innerWidth <= 768) {
                    sidebar.classList.remove('open');
                }
            });
        });

        // ============================================
        // Control Panel Handlers
        // ============================================

        // Camera controls
        document.getElementById('reset-camera-btn').addEventListener('click', resetCamera);
        document.getElementById('fit-camera-btn').addEventListener('click', fitCameraToModel);

        const fovSlider = document.getElementById('fov-slider');
        const fovValue = document.getElementById('fov-value');
        fovSlider.addEventListener('input', (e) => {
            const value = e.target.value;
            fovValue.textContent = value + '¬∞';
            camera.fov = parseFloat(value);
            camera.updateProjectionMatrix();
        });

        // Lighting controls
        const ambientSlider = document.getElementById('ambient-slider');
        const ambientValue = document.getElementById('ambient-value');
        ambientSlider.addEventListener('input', (e) => {
            const value = parseFloat(e.target.value);
            ambientValue.textContent = value.toFixed(1);
            ambientLight.intensity = value;
        });

        const directionalSlider = document.getElementById('directional-slider');
        const directionalValue = document.getElementById('directional-value');
        directionalSlider.addEventListener('input', (e) => {
            const value = parseFloat(e.target.value);
            directionalValue.textContent = value.toFixed(1);
            directionalLight.intensity = value;
        });

        // Display controls
        const backgroundSelect = document.getElementById('background-select');
        backgroundSelect.addEventListener('change', updateBackground);

        const gridSelect = document.getElementById('grid-select');
        gridSelect.addEventListener('change', (e) => {
            gridHelper.visible = e.target.value === 'on';
        });

        const wireframeSelect = document.getElementById('wireframe-select');
        wireframeSelect.addEventListener('change', (e) => {
            const showWireframe = e.target.value === 'on';
            if (currentModel) {
                currentModel.traverse((node) => {
                    if (node.isMesh) {
                        node.material.wireframe = showWireframe;
                    }
                });
            }
        });

        // Screenshot
        document.getElementById('screenshot-btn').addEventListener('click', () => {
            renderer.render(scene, camera);
            const dataURL = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.download = 'model-screenshot.png';
            link.href = dataURL;
            link.click();
        });

        // ============================================
        // Toolbar Buttons
        // ============================================

        const infoBtn = document.getElementById('info-btn');
        const infoPanel = document.getElementById('info-panel');

        infoBtn.addEventListener('click', () => {
            infoPanel.classList.toggle('visible');
            infoBtn.classList.toggle('active');
        });

        const helpBtn = document.getElementById('help-btn');
        const helpOverlay = document.getElementById('help-overlay');
        const closeHelp = document.getElementById('close-help');

        helpBtn.addEventListener('click', () => {
            helpOverlay.classList.add('visible');
        });

        closeHelp.addEventListener('click', () => {
            helpOverlay.classList.remove('visible');
        });

        helpOverlay.addEventListener('click', (e) => {
            if (e.target === helpOverlay) {
                helpOverlay.classList.remove('visible');
            }
        });

        // ============================================
        // Keyboard Shortcuts
        // ============================================

        document.addEventListener('keydown', (e) => {
            // Don't trigger if typing in input
            if (e.target.tagName === 'INPUT') return;

            switch(e.key.toLowerCase()) {
                case 'r':
                    resetCamera();
                    break;
                case 'f':
                    fitCameraToModel();
                    break;
                case 'g':
                    gridHelper.visible = !gridHelper.visible;
                    gridSelect.value = gridHelper.visible ? 'on' : 'off';
                    break;
                case 'w':
                    const currentWireframe = wireframeSelect.value === 'on';
                    wireframeSelect.value = currentWireframe ? 'off' : 'on';
                    wireframeSelect.dispatchEvent(new Event('change'));
                    break;
                case 'i':
                    infoBtn.click();
                    break;
                case 'h':
                    helpOverlay.classList.toggle('visible');
                    break;
            }
        });

        // ============================================
        // Update background on theme change
        // ============================================

        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.attributeName === 'data-theme') {
                    updateBackground();
                }
            });
        });

        observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ['data-theme']
        });

        // ============================================
        // Initialize
        // ============================================

        initViewer();

        // Check URL parameters for auto-loading model
        const urlParams = new URLSearchParams(window.location.search);
        const modelParam = urlParams.get('model');

        if (modelParam) {
            // Load model from URL parameter
            // If it's a relative path, assume it's in /models/
            const modelUrl = modelParam.startsWith('http') ? modelParam : `/models/${modelParam}`;
            loadModel(modelUrl);
            console.log('Loading model from URL parameter:', modelUrl);
        } else {
            // Load default model - Spherical Cow (SiliconWit)
            loadModel('/models/siliconwit/spherical-cow.glb');
        }

        // ============================================
        // Tawk.to Widget Integration
        // ============================================

        (function(){
            var s1 = document.createElement("script");
            var s0 = document.getElementsByTagName("script")[0];

            s1.async = true;
            s1.src = 'https://embed.tawk.to/633f134c37898912e96d3fbe/1gen66p79';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin','*');

            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>
</body>
</html>
